{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 5e434f0b78bdbbd17da2","webpack:///./src/evaluation.builder.ts","webpack:///./src/expression.parser.ts"],"names":[],"mappings":"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","file":"goat.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"goat\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"goat\"] = factory();\n\telse\n\t\troot[\"goat\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5e434f0b78bdbbd17da2","/* Constants\n----------------------------------------------------------------*/\n\nconst EQUALITY_REGEX = /^\\s*([^\\sˆ&|\\'\"\\(\\)]+|[\"'][^'\"]+[\"'])\\s*$|^\\s*([^\\sˆ&|\\'\"\\(\\)]+|[\"'][^'\"]*[\"'])\\s*([^'\"\\w\\s|&]{1,3})\\s*([^\\sˆ&|\\'\"\\(\\)]+|[\"'][^'\"]*[\"'])\\s*$/;\nconst STRING_REGEX = /^['\"](.*)['\"]$/;\nconst NOT_REGEX = /^\\s*([!]+)\\s*(\\w+)\\s*$/;\nconst LOGICAL_OPERATORS = ['&&', '||'];\nconst RELATIONAL_OPERATORS = ['==', '!=', '===', '!==', '!', '>=', '<=', '>', '<'];\n\n/* Types\n----------------------------------------------------------------*/\n\ntype Evaluator = () => boolean;\ntype ControllerFn = (obj: IKeyValue<any>) => any;\ntype Operand = string | Evaluator;\ntype Expression = RegExpMatchArray | Array<Operand>;\n\nexport interface IKeyValue<T> {\n    [key: string]: T;\n}\n\nexport interface IKeyFunction extends IKeyValue<() => boolean> {\n}\n\nexport interface IExpressionCache { \n    fields?: string[];\n    expression: string;\n}\n\n/* Cache Variables\n----------------------------------------------------------------*/\n\nconst expressionCache: IKeyValue<IExpressionCache> = {};\n\n/* Support Functions\n----------------------------------------------------------------*/\n\nconst isBoolean = (value: string) => ['true', 'false'].indexOf(value) > -1;\nconst isFunction = (o: any) => typeof o === 'function';\nconst includes = <T>(o: T[], value: T) => o.indexOf(value) > -1;\nconst getMiddleItem = (expression: Expression) => expression[Math.round((expression.length - 1) / 2)];\n\nconst matchExpression = (expression: string) => \n    expression.match(/([&|]{2})|([\\(\\)])|([^\\sˆ&|\\'\"\\(\\)]+|[\"'].+[\"'])\\s*([^\\w\\s|&\\(\\)]{1,3})?\\s*([^\\sˆ&|\\(\\)]+)?/g);\n\nconst isProperty = (expression: string) => /^\\s*([a-z]\\w+)(\\.[a-z]\\w+)*\\s*$/g.test(expression);\n\nconst asFunction = (val: any) => isFunction(val) ? val() : val;\n\nconst setFirstInExpression = (expression: Expression, value: Operand) => (expression as Array<Operand>)[0] = value;\nconst getFirstInExpression = <T extends Operand>(expression: Expression) => <T>(expression as Array<Operand>)[0];\n\nconst getRegexMatchArray = (regex: RegExp, input: string) => {\n    let match: string[] = regex.exec(input) || [];\n    if (match.length === 0) return;\n    match = match.filter(m => m !== undefined);\n    match.shift();\n    return match;\n};\n\nconst getExpression = (token: string) => expressionCache[token].expression;\n\nconst throwError = (...msg: string[]) => { throw new Error(msg.join('')); };\nconst throwInvalidOperationError = (operator: string, token: string) => throwError(`Operator [${operator}] is not valid in expression [${getExpression(token)}]`);\nconst throwInvalidExpressionError = (token: string) => throwError(`Invalid expression [${getExpression(token)}]`);\n\nconst getOperation = (operation: string, left: Operand, right?: Operand) => (<IKeyFunction>{\n    '==': () => asFunction(left) == asFunction(right),\n    '!=': () => asFunction(left) != asFunction(right),\n    '===': () => asFunction(left) === asFunction(right),\n    '!==': () => asFunction(left) !== asFunction(right),\n    '<=': () => asFunction(left) <= asFunction(right),\n    '>=': () => asFunction(left) >= asFunction(right),\n    '<': () => asFunction(left) < asFunction(right),\n    '>': () => asFunction(left) > asFunction(right),\n    '&&': () => asFunction(left) && asFunction(right),\n    '||': () => asFunction(left) || asFunction(right)\n})[operation];\n\nconst evaluateNot = (nots: string[], value: string, controller: IKeyValue<any>, parserToken: string) => {\n    let evaluate: Operand;\n    nots.shift();\n    if (nots.length) {\n        evaluate = evaluateNot(nots, value, controller, parserToken);\n    }\n\n    const operand = processOperand(value, controller, parserToken);\n    return () => !asFunction(evaluate || operand);\n};\n\nconst buildPropertyCaller = (fields: string[], lastFunction?: ControllerFn): ControllerFn => {\n    const last = fields[fields.length - 1];\n    fields.pop();\n\n    // function that evaluates current property\n    let fn: ControllerFn;\n\n    if (!lastFunction) {\n        fn = (obj) => obj[last];\n    } else {\n        fn = (obj) => lastFunction(obj[last]);\n    }\n\n    if (fields.length) {\n        return buildPropertyCaller(fields, fn);\n    }\n\n    return fn;\n};\n\nconst setField = (field: string, parserToken: string) => {\n    let cache = expressionCache[parserToken].fields;\n    if (!cache) {\n        cache = expressionCache[parserToken].fields = [];\n    }\n    cache.push(field);\n};\n\n/**\n * Executes functions in series until one of them returns a truthy value.\n * If it does, the function returns true.\n * @param fns Functions to be executed\n */\nconst untilTruthy = (...fns: Function[]) => !fns.every((fn) => !fn());\n\n/* Processing Functions\n----------------------------------------------------------------*/\n\nconst processOperand = (m: any, controller: IKeyValue<any>, parserToken: string): any => {\n    let match;\n    if ((match = getRegexMatchArray(NOT_REGEX, m))) {\n        const nots = match[0].split('');\n        return evaluateNot(nots, match[1], controller, parserToken);\n    } else if (isBoolean(m)) {\n        return m === 'true';\n    } else if (isProperty(m)) {\n        const caller = buildPropertyCaller(m.split('.'));\n        setField(m, parserToken);\n        return () => caller(controller);\n    } else if (!isNaN(m)) {\n        return parseInt(m);\n    } else if ((match = STRING_REGEX.exec(m))) {\n        return getMiddleItem(match);\n    }\n    \n    throwInvalidExpressionError(parserToken);\n};\n\nconst processLogicalOperation = (operation: string, expression: any, controller: IKeyValue<any>, parserToken: string) => {\n    let index = -1;\n    let leftIndex = 0;\n    let rightIndex = 0;\n    if ((index = expression.indexOf(operation)) > -1 && \n        (expression[leftIndex = index - 1] !== ')') &&\n        (expression[rightIndex = index + 1] !== '(')) {\n        let left = processExpression(expression[leftIndex], controller, parserToken);\n        let right = processExpression(expression[rightIndex], controller, parserToken);\n        const result = getOperation(operation, getFirstInExpression(left), getFirstInExpression(right));\n        expression[leftIndex] = result;\n        expression.splice(index, 2);\n\n        return result;\n    }\n};\n\nconst processExplicitPrecedence = (expression: any, controller: IKeyValue<any>, parserToken: string) => {\n    let subExpression = expression;\n    const indexLeftParenthesis = expression.lastIndexOf('(');\n    if (indexLeftParenthesis > -1) {\n        subExpression = subExpression.slice(indexLeftParenthesis + 1, subExpression.length);\n        const indexRightParenthesis = subExpression.indexOf(')');\n        subExpression = subExpression.slice(0, indexRightParenthesis);\n        const expressionLength = subExpression.length;\n        const result = processExpression(subExpression, controller, parserToken);\n        expression[indexLeftParenthesis] = result;\n        expression.splice(indexLeftParenthesis + 1, expressionLength + 1);\n        return result;\n    }\n};\n\nconst processEquality = (expression: Expression, controller: IKeyValue<any>, parserToken: string) => {\n    let match: RegExpMatchArray;\n    let operatorFunc: Evaluator;\n    if (expression.length === 1 && (match = getRegexMatchArray(EQUALITY_REGEX, getFirstInExpression<string>(expression)))) {\n        const left = processOperand(match[0], controller, parserToken);\n        let right = match[2];\n        if (right) {\n            right = processOperand(match[2], controller, parserToken);\n        }\n\n        const operation = match[1];\n        if (isFunction(left) && !right && !operation) {\n            operatorFunc = left as () => boolean;\n        } else {\n            operatorFunc = getOperation(match[1], left, right);\n        }\n\n        if (!operatorFunc) throwInvalidOperationError(match[1], parserToken);\n\n        setFirstInExpression(expression, operatorFunc);\n\n        return operatorFunc;\n    }\n};\n\nconst processExpression = (expression: Expression, controller: IKeyValue<any>, parserToken: string): Expression => {\n    if (!(expression instanceof Array)) {\n        expression = [expression];\n    }\n\n    if (expression.length === 3 && !includes(LOGICAL_OPERATORS, getMiddleItem(expression))) {\n        throwError(`Invalid logical operator [${<string>getMiddleItem(expression)}] in expression [${getExpression(parserToken)}]`);\n    }\n\n    if (!untilTruthy(\n        () => processEquality(expression, controller, parserToken),\n        () => processExplicitPrecedence(expression, controller, parserToken),\n        () => processLogicalOperation('&&', expression, controller, parserToken),\n        () => processLogicalOperation('||', expression, controller, parserToken)\n    ) && (expression.length % 2) === 1 && !isFunction(getFirstInExpression(expression))) {\n        throwInvalidExpressionError(parserToken);\n    }\n\n    if (expression.length > 1 || !isFunction(getFirstInExpression(expression))) {\n        return processExpression(expression, controller, parserToken);\n    } else {\n        return expression;\n    }\n};\n\n/* Exported Functions\n----------------------------------------------------------------*/\n\nexport const getFields = (token: string) => expressionCache[token].fields;\nexport const deleteFromCache = (token: string) => delete expressionCache[token];\n\nexport const generateRandomKey = () => Math.floor((1 + Math.random()) * 0x100000000000000).toString(16).substring(1);\n\nexport const buildEvaluator = (expression: string, controller: IKeyValue<any>, parserToken: string): Evaluator => {\n    const match = matchExpression(expression) || [];\n\n    expressionCache[parserToken] = { expression: expression };\n    \n    if (match.length % 2 === 0) {\n        throwInvalidExpressionError(parserToken);\n    }    \n\n    const result = processExpression(match, controller, parserToken);\n\n    return getFirstInExpression<Evaluator>(result);\n};\n\n\n// WEBPACK FOOTER //\n// ./src/evaluation.builder.ts","import { generateRandomKey, buildEvaluator, getFields, deleteFromCache } from './evaluation.builder';\n\n/**\n * Expression parser class\n */\nexport default class {\n    private _evaluator: () => boolean;\n    private _fields: string[];\n    private _parserToken: string;\n\n    /**\n     * Object fields that were used in the expression.\n     */\n    public get fields(): string[] {\n        return this._fields;\n    }\n\n    /**\n     * Returns the current evaluator function without triggering it like the evaluate() function does.\n     */\n    public get currentEvaluator() {\n        return this._evaluator;\n    }\n\n    /**\n     * Creates new instance of the ExpressionParser.\n     * @param _expression Expression to be parsed\n     * @param _controller Object with fields that will be evaluated\n     */\n    constructor (private _expression: string, private _controller: { [key: string]: any }) {\n        this._parserToken = generateRandomKey();\n    }\n    \n    /**\n     * Evaluates current instance of the Expression Parser and returns\n     * a boolean value based on the expression that was passed in the constructor.\n     */\n    public evaluate() {\n        if (!this._evaluator) {\n            this._evaluator = buildEvaluator(this._expression, this._controller, this._parserToken);\n            this._fields = getFields(this._parserToken);\n            deleteFromCache(this._parserToken);\n        }\n\n        return this._evaluator();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/expression.parser.ts"],"sourceRoot":""}