!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("goat",[],t):"object"==typeof exports?exports.goat=t():n.goat=t()}(this,function(){return function(n){function t(r){if(e[r])return e[r].exports;var u=e[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var e={};return t.m=n,t.c=e,t.i=function(n){return n},t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=1)}([function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^\s*([!\w\.]+)\s*([^\w\s|&]{1,3})?\s*([^\sˆ&|\\=)]+)?\s*$/,u=/^['"](.*)['"]$/,o=/^\s*([!]+)\s*(\w+)\s*$/,i={},f=function(n){return["true","false"].indexOf(n)>-1},c=function(n){return"function"==typeof n},s=function(n){return n.match(/([&|]{2})|([\(\)])|([!\w\.]+)\s*([^\w\s|&]{1,3})?\s*([^\sˆ&|\)]+)?/g)},a=function(n){return c(n)?n():n},l=function(n,t){return n[0]=t},p=function(n){return n[0]},d=function(n,t){var e=n.exec(t)||[];if(0!==e.length)return e=e.filter(function(n){return void 0!==n}),e.shift(),e},h=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];throw new Error(n.join(""))},v=function(n){return h("Operator "+n+" is not valid")},g=function(n,t,e){return{"==":function(){return a(t)==a(e)},"!=":function(){return a(t)!=a(e)},"===":function(){return a(t)===a(e)},"!==":function(){return a(t)!==a(e)},"<=":function(){return a(t)<=a(e)},">=":function(){return a(t)>=a(e)},"<":function(){return a(t)<a(e)},">":function(){return a(t)>a(e)},"&&":function(){return a(t)&&a(e)},"||":function(){return a(t)||a(e)}}[n]},_=function(n,t,e,r){var u;return n.shift(),n.length&&(u=_(n,t,e,r)),function(){return!a(u||m(t,e,r))}},x=function(n,t){return function(){return n[t]}},y=function(n,t){var e=i[t];e||(e=i[t]=[]),e.push(n)},b=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n.every(function(n){return!n()})},m=function(n,t,e){var r;if(r=d(o,n)){return _(r[0].split(""),r[1],t,e)}return f(n)?"true"===n:n in t?(y(n,e),x(t,n)):isNaN(n)?(r=u.exec(n))?r[1]:n:parseInt(n)},O=function(n,t,e,r){var u=-1,o=0,i=0;if((u=t.indexOf(n))>-1&&")"!==t[o=u-1]&&"("!==t[i=u+1]){var f=M(t[o],e,r),c=M(t[i],e,r),s=g(n,p(f),p(c));return s||v(n),t[o]=s,t.splice(u,2),s}},j=function(n,t,e){var r=n,u=n.lastIndexOf("(");if(u>-1){r=r.slice(u+1,r.length);var o=r.indexOf(")");r=r.slice(0,o);var i=r.length,f=M(r,t,e);return n[u]=f,n.splice(u+1,i+1),f}},w=function(n,t,e){var u,o;if(1===n.length&&(u=d(r,p(n)))){var i=m(u[0],t,e),f=m(u[2],t,e),s=u[1];return o=!c(i)||f||s?g(u[1],i,f):i,o||v(u[1]),l(n,o),o}},M=function(n,t,e){return n instanceof Array||(n=[n]),b(function(){return w(n,t,e)},function(){return j(n,t,e)},function(){return O("&&",n,t,e)},function(){return O("||",n,t,e)}),n.length>1||!c(n[0])?M(n,t,e):n};t.getFields=function(n){return i[n]},t.deleteFromCache=function(n){return delete i[n]},t.generateRandomKey=function(){return Math.floor(72057594037927940*(1+Math.random())).toString(16).substring(1)},t.buildEvaluator=function(n,t,e){var r=s(n)||[],u=M(r,t,e),o=p(u);if(1===u.length&&c(o))return o}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(0),u=function(){function n(n,t){this._expression=n,this._controller=t,this._parserToken=r.generateRandomKey()}return Object.defineProperty(n.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),n.prototype.evaluate=function(){return this._evaluator||(this._evaluator=r.buildEvaluator(this._expression,this._controller,this._parserToken),this._fields=r.getFields(this._parserToken),r.deleteFromCache(this._parserToken)),this._evaluator()},n}();t.default=u}])});
//# sourceMappingURL=goat.min.js.map